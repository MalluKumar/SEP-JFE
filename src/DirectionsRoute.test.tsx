import { render, screen } from '@testing-library/react';
import  DirectionsRoute  from './DirectionsRoute';
import { CoordPoint,JobStatus, FunctionObj } from "./consts";
import { MapContainer } from 'react-leaflet';
it('test correctly when Direction render', () => {

    interface JobData {
        JobID: number,
        GSTID: number,
        Address: string,
        Suburb: string,
        Postcode: number,
        StartTime: Date,
        IdleDuration: number,
        TravelDuration: number,
        JobDuration: number,
        EndTime: Date,
        DistanceTravelled: number,
        Path: CoordPoint[],
        Priority: string,
        Status: JobStatus,
    }
    const  currentDateTime = new Date(2021, 10, 1, 13,10,10);
    const remainingCoordinates:CoordPoint[] = [{latitude: 0, longitude: 0,}];
    const functions:FunctionObj[] = [];
;

    function name() {
        let currentJob: JobData = {
            JobID: 401620585,
            GSTID: 500000,
            Address: "4 WALTON PL",
            Suburb: "MINCHINBURY",
            Postcode: 2770,
            StartTime: new Date(2021-10-14-56),
            IdleDuration: 0,
            TravelDuration: 25,
            JobDuration: 30,
            EndTime: new Date(2021-10-14-51-29),
            DistanceTravelled: 19019,
            Path: JSON.parse('[{"latitude":-33.84335,"longitude":150.94716},{"latitude":-33.84386,"longitude":150.94701},{"latitude":-33.84397,"longitude":150.94704},{"latitude":-33.84407,"longitude":150.94714},{"latitude":-33.84411,"longitude":150.94732},{"latitude":-33.84437,"longitude":150.94911},{"latitude":-33.84437,"longitude":150.94919},{"latitude":-33.84434,"longitude":150.94928},{"latitude":-33.84353,"longitude":150.94966},{"latitude":-33.8435,"longitude":150.95002},{"latitude":-33.84343,"longitude":150.95002},{"latitude":-33.8432,"longitude":150.95006},{"latitude":-33.8424,"longitude":150.95022},{"latitude":-33.8418,"longitude":150.95034},{"latitude":-33.84159,"longitude":150.95038},{"latitude":-33.84132,"longitude":150.95043},{"latitude":-33.84114,"longitude":150.95047},{"latitude":-33.84034,"longitude":150.95062},{"latitude":-33.84001,"longitude":150.95068},{"latitude":-33.8395,"longitude":150.95078},{"latitude":-33.83859,"longitude":150.95095},{"latitude":-33.83871,"longitude":150.95183},{"latitude":-33.83876,"longitude":150.95215},{"latitude":-33.83879,"longitude":150.95236},{"latitude":-33.83882,"longitude":150.95264},{"latitude":-33.83894,"longitude":150.95345},{"latitude":-33.83902,"longitude":150.95393},{"latitude":-33.83906,"longitude":150.95415},{"latitude":-33.83911,"longitude":150.95439},{"latitude":-33.83914,"longitude":150.95454},{"latitude":-33.83918,"longitude":150.95473},{"latitude":-33.83924,"longitude":150.95503},{"latitude":-33.83926,"longitude":150.95514},{"latitude":-33.83934,"longitude":150.9555},{"latitude":-33.83958,"longitude":150.95669},{"latitude":-33.83963,"longitude":150.95696},{"latitude":-33.83962,"longitude":150.95702},{"latitude":-33.83966,"longitude":150.9572},{"latitude":-33.83969,"longitude":150.95731},{"latitude":-33.83879,"longitude":150.95759},{"latitude":-33.8386,"longitude":150.95764},{"latitude":-33.83789,"longitude":150.95785},{"latitude":-33.83751,"longitude":150.95796},{"latitude":-33.83743,"longitude":150.95798},{"latitude":-33.83736,"longitude":150.958},{"latitude":-33.83731,"longitude":150.95802},{"latitude":-33.83685,"longitude":150.95816},{"latitude":-33.83643,"longitude":150.95827},{"latitude":-33.83626,"longitude":150.95833},{"latitude":-33.83605,"longitude":150.9584},{"latitude":-33.83572,"longitude":150.95849},{"latitude":-33.83488,"longitude":150.95877},{"latitude":-33.83423,"longitude":150.95897},{"latitude":-33.83325,"longitude":150.95928},{"latitude":-33.8328,"longitude":150.95941},{"latitude":-33.83175,"longitude":150.95973},{"latitude":-33.83147,"longitude":150.95982},{"latitude":-33.83078,"longitude":150.96004},{"latitude":-33.83067,"longitude":150.96006},{"latitude":-33.83033,"longitude":150.96015},{"latitude":-33.83024,"longitude":150.96019},{"latitude":-33.83003,"longitude":150.96027},{"latitude":-33.82972,"longitude":150.96044},{"latitude":-33.8295,"longitude":150.96058},{"latitude":-33.82911,"longitude":150.96088},{"latitude":-33.82827,"longitude":150.96162},{"latitude":-33.82781,"longitude":150.96195},{"latitude":-33.82758,"longitude":150.96208},{"latitude":-33.82734,"longitude":150.96217},{"latitude":-33.8271,"longitude":150.96226},{"latitude":-33.82665,"longitude":150.96234},{"latitude":-33.82636,"longitude":150.96235},{"latitude":-33.82509,"longitude":150.96231},{"latitude":-33.82298,"longitude":150.96227},{"latitude":-33.82253,"longitude":150.96225},{"latitude":-33.82234,"longitude":150.96224},{"latitude":-33.81949,"longitude":150.96231},{"latitude":-33.81941,"longitude":150.96231},{"latitude":-33.81884,"longitude":150.96231},{"latitude":-33.81851,"longitude":150.96233},{"latitude":-33.81827,"longitude":150.96235},{"latitude":-33.8181,"longitude":150.96235},{"latitude":-33.81773,"longitude":150.96242},{"latitude":-33.81768,"longitude":150.96243},{"latitude":-33.81759,"longitude":150.96246},{"latitude":-33.81734,"longitude":150.96253},{"latitude":-33.81722,"longitude":150.96259},{"latitude":-33.81706,"longitude":150.96266},{"latitude":-33.81697,"longitude":150.96271},{"latitude":-33.81687,"longitude":150.96276},{"latitude":-33.81681,"longitude":150.96276},{"latitude":-33.81669,"longitude":150.96277},{"latitude":-33.81655,"longitude":150.96275},{"latitude":-33.81646,"longitude":150.96272},{"latitude":-33.81634,"longitude":150.96264},{"latitude":-33.81631,"longitude":150.96259},{"latitude":-33.81625,"longitude":150.96249},{"latitude":-33.81601,"longitude":150.96172},{"latitude":-33.81592,"longitude":150.96143},{"latitude":-33.81575,"longitude":150.96085},{"latitude":-33.81568,"longitude":150.96061},{"latitude":-33.81561,"longitude":150.96035},{"latitude":-33.81517,"longitude":150.95874},{"latitude":-33.81504,"longitude":150.95828},{"latitude":-33.81497,"longitude":150.95797},{"latitude":-33.81485,"longitude":150.95748},{"latitude":-33.81478,"longitude":150.95724},{"latitude":-33.81457,"longitude":150.95652},{"latitude":-33.8145,"longitude":150.95632},{"latitude":-33.81449,"longitude":150.95628},{"latitude":-33.81446,"longitude":150.95625},{"latitude":-33.81443,"longitude":150.95623},{"latitude":-33.81439,"longitude":150.95621},{"latitude":-33.81425,"longitude":150.95555},{"latitude":-33.81387,"longitude":150.95391},{"latitude":-33.81344,"longitude":150.95224},{"latitude":-33.81342,"longitude":150.95215},{"latitude":-33.81339,"longitude":150.95204},{"latitude":-33.8133,"longitude":150.95169},{"latitude":-33.81307,"longitude":150.95077},{"latitude":-33.81284,"longitude":150.94977},{"latitude":-33.81229,"longitude":150.94726},{"latitude":-33.81226,"longitude":150.94711},{"latitude":-33.81225,"longitude":150.94703},{"latitude":-33.81223,"longitude":150.94696},{"latitude":-33.81205,"longitude":150.94604},{"latitude":-33.81203,"longitude":150.94592},{"latitude":-33.81161,"longitude":150.94361},{"latitude":-33.81131,"longitude":150.9421},{"latitude":-33.81117,"longitude":150.94127},{"latitude":-33.81085,"longitude":150.93959},{"latitude":-33.81062,"longitude":150.93869},{"latitude":-33.81038,"longitude":150.93799},{"latitude":-33.81007,"longitude":150.93712},{"latitude":-33.80986,"longitude":150.93666},{"latitude":-33.80952,"longitude":150.93598},{"latitude":-33.80908,"longitude":150.9352},{"latitude":-33.80829,"longitude":150.93379},{"latitude":-33.80794,"longitude":150.93313},{"latitude":-33.80773,"longitude":150.93269},{"latitude":-33.80769,"longitude":150.9326},{"latitude":-33.80766,"longitude":150.93254},{"latitude":-33.80743,"longitude":150.93197},{"latitude":-33.80718,"longitude":150.93125},{"latitude":-33.80698,"longitude":150.93059},{"latitude":-33.80688,"longitude":150.93018},{"latitude":-33.80681,"longitude":150.9299},{"latitude":-33.80667,"longitude":150.92921},{"latitude":-33.80664,"longitude":150.929},{"latitude":-33.80652,"longitude":150.92811},{"latitude":-33.8065,"longitude":150.92764},{"latitude":-33.80649,"longitude":150.92758},{"latitude":-33.80648,"longitude":150.92752},{"latitude":-33.80648,"longitude":150.92743},{"latitude":-33.80644,"longitude":150.92666},{"latitude":-33.80643,"longitude":150.92467},{"latitude":-33.80636,"longitude":150.92276},{"latitude":-33.8063,"longitude":150.922},{"latitude":-33.80628,"longitude":150.92173},{"latitude":-33.80621,"longitude":150.92117},{"latitude":-33.80608,"longitude":150.92005},{"latitude":-33.80604,"longitude":150.91966},{"latitude":-33.80581,"longitude":150.91796},{"latitude":-33.80554,"longitude":150.91598},{"latitude":-33.80552,"longitude":150.91593},{"latitude":-33.80552,"longitude":150.9159},{"latitude":-33.80549,"longitude":150.91564},{"latitude":-33.80539,"longitude":150.91488},{"latitude":-33.80505,"longitude":150.91251},{"latitude":-33.80475,"longitude":150.91033},{"latitude":-33.80462,"longitude":150.90944},{"latitude":-33.80444,"longitude":150.9082},{"latitude":-33.8044,"longitude":150.90789},{"latitude":-33.80386,"longitude":150.90366},{"latitude":-33.80377,"longitude":150.90302},{"latitude":-33.80372,"longitude":150.90264},{"latitude":-33.80365,"longitude":150.9021},{"latitude":-33.80352,"longitude":150.90096},{"latitude":-33.80348,"longitude":150.90063},{"latitude":-33.80338,"longitude":150.89949},{"latitude":-33.80319,"longitude":150.89751},{"latitude":-33.80304,"longitude":150.89615},{"latitude":-33.80304,"longitude":150.89608},{"latitude":-33.80303,"longitude":150.89603},{"latitude":-33.80302,"longitude":150.89597},{"latitude":-33.80302,"longitude":150.89589},{"latitude":-33.803,"longitude":150.89571},{"latitude":-33.80284,"longitude":150.89409},{"latitude":-33.80263,"longitude":150.89193},{"latitude":-33.80259,"longitude":150.89132},{"latitude":-33.80254,"longitude":150.89064},{"latitude":-33.80248,"longitude":150.88979},{"latitude":-33.80239,"longitude":150.88855},{"latitude":-33.80232,"longitude":150.88771},{"latitude":-33.80228,"longitude":150.88709},{"latitude":-33.80222,"longitude":150.88623},{"latitude":-33.80218,"longitude":150.88561},{"latitude":-33.80206,"longitude":150.88375},{"latitude":-33.80199,"longitude":150.88234},{"latitude":-33.80191,"longitude":150.88057},{"latitude":-33.80179,"longitude":150.87793},{"latitude":-33.80163,"longitude":150.87517},{"latitude":-33.80159,"longitude":150.87462},{"latitude":-33.80132,"longitude":150.87184},{"latitude":-33.80116,"longitude":150.87027},{"latitude":-33.80114,"longitude":150.8701},{"latitude":-33.80112,"longitude":150.87},{"latitude":-33.80109,"longitude":150.86976},{"latitude":-33.80089,"longitude":150.86809},{"latitude":-33.80076,"longitude":150.86716},{"latitude":-33.80056,"longitude":150.86589},{"latitude":-33.80031,"longitude":150.86426},{"latitude":-33.80021,"longitude":150.8636},{"latitude":-33.79979,"longitude":150.86139},{"latitude":-33.79942,"longitude":150.85956},{"latitude":-33.79925,"longitude":150.85875},{"latitude":-33.79927,"longitude":150.85846},{"latitude":-33.79908,"longitude":150.85711},{"latitude":-33.79894,"longitude":150.85598},{"latitude":-33.79893,"longitude":150.85595},{"latitude":-33.79889,"longitude":150.8556},{"latitude":-33.79886,"longitude":150.85541},{"latitude":-33.79874,"longitude":150.85464},{"latitude":-33.79873,"longitude":150.85458},{"latitude":-33.79865,"longitude":150.85435},{"latitude":-33.79864,"longitude":150.85427},{"latitude":-33.79862,"longitude":150.85398},{"latitude":-33.79862,"longitude":150.85377},{"latitude":-33.79853,"longitude":150.85313},{"latitude":-33.79852,"longitude":150.85305},{"latitude":-33.79819,"longitude":150.85311},{"latitude":-33.79811,"longitude":150.85312},{"latitude":-33.79787,"longitude":150.85317},{"latitude":-33.79776,"longitude":150.8532},{"latitude":-33.79764,"longitude":150.85322},{"latitude":-33.79745,"longitude":150.85326},{"latitude":-33.79698,"longitude":150.85336},{"latitude":-33.79644,"longitude":150.85346},{"latitude":-33.79621,"longitude":150.85351},{"latitude":-33.79592,"longitude":150.85356},{"latitude":-33.79449,"longitude":150.85383},{"latitude":-33.79436,"longitude":150.85386},{"latitude":-33.79395,"longitude":150.85394},{"latitude":-33.79371,"longitude":150.854},{"latitude":-33.79363,"longitude":150.85401},{"latitude":-33.79355,"longitude":150.85403},{"latitude":-33.79343,"longitude":150.85406},{"latitude":-33.79333,"longitude":150.85408},{"latitude":-33.79314,"longitude":150.85411},{"latitude":-33.79089,"longitude":150.85457},{"latitude":-33.79058,"longitude":150.85461},{"latitude":-33.79051,"longitude":150.85462},{"latitude":-33.79011,"longitude":150.85461},{"latitude":-33.78985,"longitude":150.85458},{"latitude":-33.7896,"longitude":150.85451},{"latitude":-33.78939,"longitude":150.85447},{"latitude":-33.78935,"longitude":150.85443},{"latitude":-33.78932,"longitude":150.85441},{"latitude":-33.78923,"longitude":150.85438},{"latitude":-33.78899,"longitude":150.85424},{"latitude":-33.78894,"longitude":150.85419},{"latitude":-33.7889,"longitude":150.85413},{"latitude":-33.78886,"longitude":150.85404},{"latitude":-33.78881,"longitude":150.85396},{"latitude":-33.78871,"longitude":150.85352},{"latitude":-33.78864,"longitude":150.85319},{"latitude":-33.78856,"longitude":150.85288},{"latitude":-33.78851,"longitude":150.85267},{"latitude":-33.78843,"longitude":150.85238},{"latitude":-33.78793,"longitude":150.85035},{"latitude":-33.78767,"longitude":150.84929},{"latitude":-33.78763,"longitude":150.84912},{"latitude":-33.7874,"longitude":150.84815},{"latitude":-33.78718,"longitude":150.84726},{"latitude":-33.78709,"longitude":150.84689},{"latitude":-33.78693,"longitude":150.84625},{"latitude":-33.78686,"longitude":150.84595},{"latitude":-33.78671,"longitude":150.84529},{"latitude":-33.78653,"longitude":150.84458},{"latitude":-33.7865,"longitude":150.84446},{"latitude":-33.78638,"longitude":150.84393},{"latitude":-33.78632,"longitude":150.84368},{"latitude":-33.78619,"longitude":150.84316},{"latitude":-33.78598,"longitude":150.84229},{"latitude":-33.78557,"longitude":150.84061},{"latitude":-33.78542,"longitude":150.83997},{"latitude":-33.78497,"longitude":150.83804},{"latitude":-33.7846,"longitude":150.83648},{"latitude":-33.7841,"longitude":150.83435},{"latitude":-33.78372,"longitude":150.83268},{"latitude":-33.78359,"longitude":150.83209},{"latitude":-33.78359,"longitude":150.8319},{"latitude":-33.78359,"longitude":150.83186},{"latitude":-33.7836,"longitude":150.83183},{"latitude":-33.78361,"longitude":150.83181},{"latitude":-33.78374,"longitude":150.8316},{"latitude":-33.78403,"longitude":150.8315},{"latitude":-33.78446,"longitude":150.83135},{"latitude":-33.78507,"longitude":150.83114},{"latitude":-33.78522,"longitude":150.8311},{"latitude":-33.78534,"longitude":150.83109},{"latitude":-33.78533,"longitude":150.83084},{"latitude":-33.78532,"longitude":150.83078},{"latitude":-33.78531,"longitude":150.83066},{"latitude":-33.78529,"longitude":150.8306},{"latitude":-33.78524,"longitude":150.83044},{"latitude":-33.7852,"longitude":150.8303},{"latitude":-33.78507,"longitude":150.83007},{"latitude":-33.78502,"longitude":150.82999},{"latitude":-33.78491,"longitude":150.82986},{"latitude":-33.78471,"longitude":150.82968},{"latitude":-33.78423,"longitude":150.8293},{"latitude":-33.78393,"longitude":150.829},{"latitude":-33.78376,"longitude":150.82877},{"latitude":-33.78363,"longitude":150.82855},{"latitude":-33.78359,"longitude":150.82847},{"latitude":-33.78348,"longitude":150.82826},{"latitude":-33.78338,"longitude":150.82801},{"latitude":-33.7833,"longitude":150.82774},{"latitude":-33.78326,"longitude":150.82746},{"latitude":-33.78324,"longitude":150.82717},{"latitude":-33.78325,"longitude":150.82688},{"latitude":-33.7833,"longitude":150.82659},{"latitude":-33.78337,"longitude":150.82634},{"latitude":-33.78348,"longitude":150.82607},{"latitude":-33.78365,"longitude":150.82578},{"latitude":-33.78384,"longitude":150.82555},{"latitude":-33.78398,"longitude":150.82542},{"latitude":-33.78407,"longitude":150.82534},{"latitude":-33.78429,"longitude":150.82519},{"latitude":-33.78442,"longitude":150.82513},{"latitude":-33.78433,"longitude":150.82493},{"latitude":-33.78408,"longitude":150.82446},{"latitude":-33.78397,"longitude":150.82442},{"latitude":-33.78389,"longitude":150.8244},{"latitude":-33.78383,"longitude":150.8244},{"latitude":-33.78377,"longitude":150.82443},{"latitude":-33.78373,"longitude":150.82445},{"latitude":-33.78361,"longitude":150.82453},{"latitude":-33.78349,"longitude":150.82464},{"latitude":-33.78341,"longitude":150.8247},{"latitude":-33.78319,"longitude":150.82435}]'),
            Priority: "A",
            Status: "Scheduled"
        }
        return currentJob;
    }
    const tree = render(<MapContainer><DirectionsRoute job = { name() } currentDateTime={currentDateTime}  remainingCoordinates={remainingCoordinates} oldPath={ null } functions={functions[3]} /></MapContainer>);
    expect(tree).toMatchSnapshot();
});